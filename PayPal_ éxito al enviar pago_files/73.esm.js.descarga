(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{1073:function(e,t,n){"use strict";(function(e){t.a={initializeHook(){e("html").addClass("outlookWrap"),e("#footer a").attr("target","_blank")}}}).call(this,n(28))},970:function(e,t,n){"use strict";n.r(t);var o=n(1073),s=n(68),a={sessionTimerOverlayRenderedHook(){Object(s.postMessageUp)({statusMessage:"sessionTimerOverlayRendered"})},previewPageSendSubmitHook(){Object(s.postMessageUp)({statusMessage:"previewPageSendAction"})},successPageAfterRenderHook(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"PENDING"!==e.complianceInfo.status&&Object(s.postMessageUp)({statusMessage:"successPageRendered",data:{name:e.displayName,amount:e.amountFormatted}})},loadingStateChangedHook(e){let{isLoading:t}=e;Object(s.postMessageUp)({toggleLoading:t})}},i=n(11),r=n.n(i),d=n(17),c={sessionTimerOverlayRenderedHook(){Object(s.postMessageUp)({statusMessage:"sessionTimerOverlayRendered"})},previewPageSendSubmitHook(){Object(s.postMessageUp)({statusMessage:"previewPageSendAction"})},noCurrencyBalanceErrorHook(){Object(s.postMessageUp)({statusMessage:"noCurrencyBalanceError",toggleLoading:!1})},successPageAfterRenderHook(){let e=d.default.getState(),t=r()(e,"transaction.complianceInfo.status"),n=r()(e,"transaction.paymentDetails.payment_id");"PENDING"!==t&&Object(s.postMessageUp)({statusMessage:"successPageRendered",data:{amount:e.amount.amount,paymentId:n,currency:e.amount.currencyCode,amountFormatted:e.amount.amountFormatted,note:e.note.note}})},loadingStateChangedHook(e){let{isLoading:t}=e;Object(s.postMessageUp)({toggleLoading:t})}},p={initializeHook(){window.s&&(window.s.pageName="main:consumer:p2p:transfer:xb:review")}},l=n(0),u=n.n(l),m=n(8),g=n(4),h=n.n(g),A=(n(6),n(13)),O=n(52),b=n(985),y=n(9),x=n(32),f=n(1),M=A.a.create({addressWrapper:{padding:"0px 28px 0px"},toolCheckboxWrapper:{position:"absolute",width:"inherit",display:"inline"},inputCheckBox:{width:25,height:20},toolCheckbox:{":before":{overflow:"hidden",height:"1em",width:"1em",padding:"0.3em 0em"}},addressContent:{margin:"0 0 0 40px",display:"inline-block"},srLabel:{position:"absolute",width:1,height:1,overflow:"hidden"},tipIcon:{color:"#005EA6",cursor:"pointer",textDecoration:"none",width:0,height:0,padding:0},toolTipTxt:{backgroundColor:"#e1e7eb",fontSize:12,lineHeight:1.8,textAlign:"left",borderRadius:6,padding:"5px 7px",display:"block"}}),v=n(55);let C=Object(y.a)("transfer/inc/donateDropdown");class R extends u.a.Component{constructor(){super(...arguments),h()(this,"validateAmount",()=>Object(x.d)(this.props.amount,this.props.currencyDecimal)?(this.props.dispatch({type:f.d.EXTERNAL.SHOW_AMOUNT_IS_ZERO_ERROR}),!1):Object(x.a)(this.props.isAmountReadOnly,this.props.amount,this.props.donationContext.minimum_amount,this.props.currencyCode)?!!Object(x.b)(this.props.isAmountReadOnly,this.props.amount,this.props.donationContext.maximum_amount,this.props.currencyCode)||(this.props.dispatch({type:f.d.EXTERNAL.SHOW_AMOUNT_DONATION_ERROR,data:f.l.AMOUNT_ABOVE_MAXIMUM}),!1):(this.props.dispatch({type:f.d.EXTERNAL.SHOW_AMOUNT_DONATION_ERROR,data:f.l.AMOUNT_BELOW_MINIMUM}),!1)),h()(this,"reFetchFundingOptions",()=>{this.validateAmount()&&this.props.dispatch(v.e())})}render(){return this.props.shippingRequired?u.a.createElement("div",{className:Object(A.b)(M.addressWrapper)},u.a.createElement("div",{className:"donate-mailing-address ".concat(Object(A.b)(Object(A.c)(M.addressContent)))},u.a.createElement(b.a,{hasNoAddressNeededOption:!1,onAddressChanged:this.reFetchFundingOptions,validateAmount:this.validateAmount})),u.a.createElement("div",{className:"donate-mailing-address-helper-text ".concat(Object(A.b)(Object(A.c)(M.addressContent)))},u.a.createElement("span",null,C("label.helperText")))):null}}var E=Object(O.b)(e=>{let{external:t,amount:n,server:o}=e;return{shippingRequired:t.shippingRequired,shareAddress:t.shareAddress,amount:n.amount,currencyCode:n.currencyCode,currencyDecimal:n.currencyDecimal,isAmountReadOnly:!!t.isAmountReadOnly,dir:o.directionality,donationContext:t.donationContext}})(R),N=n(2),S=n.n(N),w=n(324);const T=Object(y.a)("transfer/inc/amount"),U={error:{color:"grey700",fontSize:"13px"},criticalIcon:{color:"#D20000",position:"relative",top:"-2px",height:13.18,width:14.83}};class k extends l.Component{render(){if(this.props.donationValidationType===f.l.AMOUNT_VALID)return null;let e="errorText.minimumDonationUS",t="1.00",n="USD";this.props.donationValidationType===f.l.AMOUNT_ABOVE_MAXIMUM?(t=r()(this.props.donationContext,"maximum_amount.value"),n=r()(this.props.donationContext,"maximum_amount.currency"),e="errorText.maximumDonation"):(t=r()(this.props.donationContext,"minimum_amount.value","1.00"),n=r()(this.props.donationContext,"minimum_amount.currency","USD"),"USD"===n&&Number(t)<1&&(t="1.00"),e="errorText.minimumDonationUS");const o=Object(w.a)(t,n,"CURRENCY_FORMAT");return u.a.createElement("span",null,u.a.createElement("span",{className:"icon icon-critical-small",style:S()({},U.criticalIcon),"aria-hidden":"true"}),u.a.createElement("span",{className:"vx_text-3",style:U.error},T(e,{amount:o})))}}var j=Object(O.b)(e=>{let{external:t}=e;return{donationValidationType:t.donationValidationType,donationContext:t.donationContext}})(k),_=n(61);const I=Object(y.a)("transfer/inc/note"),H={errorField:{textAlign:"left",paddingLeft:"10px"},errorText:{color:"#687173",fontSize:"14px"},criticalIcon:{color:"#D20000",marginRight:"0.75rem",verticalAlign:"bottom"}};var D=Object(O.b)(e=>{let{external:t}=e;return{showNoteMaxCharLimitError:t.showNoteMaxCharLimitError}})((function(e){return e.showNoteMaxCharLimitError?u.a.createElement("div",{style:S()({},H.errorField)},u.a.createElement("span",null,u.a.createElement(_.yb,{name:"critical-alt",size:"xs",style:S()({},H.criticalIcon)}),u.a.createElement("span",{role:"alert","data-testid":"note-field-error",style:H.errorText},I("note.errorMaxCharacterLimit")))):null})),L=n(987),F={customComponents:[{page:"preview",position:"before:userAgreement",component:u.a.createElement(E,null)},{page:"send-amount-field",position:"after:firstTimeHelp",component:u.a.createElement(L.a,null)},{page:"send-amount-field",position:"before:firstTimeHelp",component:u.a.createElement(j,null)},{page:"note-with-gift",position:"after:note",component:u.a.createElement(D,null)}],initializeHook(){m.overrideEnvironment("donate")},loadingStateChangedHook(e){let{isLoading:t}=e;t?Object(s.postMessageUp)({toggleLoading:t}):Object(s.postMessageUp)({statusMessage:"fundingOptionsRendered"})},sessionTimerOverlayRenderedHook(){Object(s.postMessageUp)({statusMessage:"sessionTimerOverlayRendered"})},showAddNewFIHook(){Object(s.postMessageUp)({statusMessage:"addNewFIRendered"})},previewPageAfterRenderHook(){Object(s.postMessageUp)({statusMessage:"fundingOptionsRendered"})},previewPageSendSubmitHook(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{amount:t={},external:n={},donate:o={},transaction:a={},address:{selectedShippingAddress:{id:i}}}=d.default.getState()||{},r=t.amount,c=t.currencyCode,p=n.donationGiftAidCheckbox,l=o.donationAnonymousStatus;const{cvv:u,threeDS2ReferenceId:m,threeDS2TransactionId:g}=a,{isRecurring:h,recipient:A,selectedFundingOption:O}=e;Object(s.postMessageUp)({statusMessage:"previewPageSendAction",data:{isRecurring:h,recipient:A,selectedFundingOption:O,selectedShippingAddressId:i,giftAidItFlag:p,donatedAmount:r,currencyCode:c,threeDS2ReferenceId:m,threeDS2TransactionId:g,cvv:u,donationAnonymousStatus:l}})},successPageAfterRenderHook(){let{paymentDetails:e={},selectedFundingOption:t={}}=d.default.getState().transaction,{amount:n={},external:o={}}=d.default.getState()||{},a=n.amount,i=n.currencyCode,r=o.donationGiftAidCheckbox;!function(e){let t=window&&window.parent||{};t.postMessage&&t.location&&t.postMessage(e,"*")}("successPageRendered:".concat(e.payment_id)),Object(s.postMessageUp)({statusMessage:"successPageRendered",data:{paymentId:e.payment_id,selectedFundingOption:t,donationGiftaid:r,donatedAmount:a,currencyCode:i}})},requestUnifiedLoginHook(){Object(s.postMessageUp)({statusMessage:"requestUnifiedLogin"})}};n.d(t,"getExternalComponents",(function(){return W})),n.d(t,"hooks",(function(){return P}));let P={outlook:o.a,donate:F,ppme:a,pools:c,xb:p};function W(e,t){let n=(P[e]||{}).customComponents||[];return function(e){return n.filter(n=>n.page===t&&n.position===e).map(e=>e.component)[0]}}t.default=P},985:function(e,t,n){"use strict";var o=n(14),s=n.n(o),a=n(4),i=n.n(a),r=(n(6),n(0)),d=n.n(r),c=n(52),p=n(1066),l=n(44),u=n(878),m=n(1),g=n(16);class h extends d.a.Component{constructor(){super(...arguments),i()(this,"handleAddAddress",()=>{const{env:e="",validateAmount:t=(()=>{})}=this.props;("donate"!==e||t())&&this.props.dispatch(l.k({show:!0}))}),i()(this,"handleSelectAddress",e=>{const{onAddressChanged:t=(()=>{}),validateAmount:n=(()=>{}),dispatch:o,env:s=""}=this.props;("donate"!==s||n())&&(o(u.c(e)),t(e))})}render(){const e="donate"===this.props.env,t=e?"mailingAddress":"shippingAddress",n="label.your".concat(e?"Mailing":"Shipping","Address"),o="label.addNew".concat(e?"Mailing":"Shipping","Address");return d.a.createElement(p.a,s()({},this.props,{handleAddAddress:this.handleAddAddress,handleSelectAddress:this.handleSelectAddress,selectElementId:t,yourAddressContentKey:n,addNewAddressContentKey:o,shouldRenderLabel:!0,hasNoAddressNeededOption:this.props.hasNoAddressNeededOption}))}}i()(h,"defaultProps",{hasNoAddressNeededOption:!0,handleSelectAddress:()=>{}}),t.a=Object(c.b)((e,t)=>{let{address:n,server:o,recipient:s,transaction:a}=e,{hasNoAddressNeededOption:i}=t;return{addressEntryFormat:n.addressEntryFormat,addresses:n.addresses,selectedAddress:n.selectedShippingAddress,env:o.env,dir:o.directionality,hasNoAddressNeededOption:(r=i,d=o.env,c=a.shippingType,p=s.isCharity,"donate"===d?r:(d!==m.o.PPSHOPS||c!==g.p.FLAT_RATE&&c!==g.p.FREE)&&!p)};var r,d,c,p})(h)},987:function(e,t,n){"use strict";const o=n(19).h.div({border:0,borderTop:"1px solid #dedede !important",maxWidth:444,margin:"0 auto",padding:0,height:0});t.a=o}}]);
//# sourceMappingURL=73.esm.js.map