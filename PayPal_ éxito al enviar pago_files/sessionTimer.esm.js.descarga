(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{1291:function(e,s,i){"use strict";i.r(s);var t=i(4),n=i.n(t),o=(i(6),i(0)),r=i.n(o),a=i(9),c=i(28),m=i.n(c),l=i(860),p=i(68);let h=Object(a.a)("widgets/confirmSession");class d extends r.a.Component{constructor(){super(...arguments),n()(this,"state",{isOpen:!1}),n()(this,"open",()=>{this.setState({isOpen:!0}),this.props.onConfirmOpen()}),n()(this,"close",()=>{this.setState({isOpen:!1})}),n()(this,"onSessionExtended",()=>{this.close(),this.clearTimers(),this.startTimers()}),n()(this,"clearTimers",()=>{clearTimeout(this.confirmationTimer),clearTimeout(this.expirationTimer)}),n()(this,"startTimers",()=>{this.confirmationTimer=setTimeout(()=>{this.open()},this.props.confirmTime),this.expirationTimer=setTimeout(()=>{Object(p.isIframe)()&&(window.top.location.href="/signin"),window.location="/signin"},this.props.expireTime)}),n()(this,"extendSession",()=>{m.a.ajax({type:"POST",url:this.props.extendURL,success:()=>this.onSessionExtended(),dataType:"json"})})}componentDidMount(){"pools"!==this.props.env&&this.startTimers()}componentWillUnmount(){this.clearTimers()}render(){let e=this.props.isGuest?"confirmSession.guestConfirmBody":"confirmSession.confirmBody",s=this.props.isGuest?"confirmSession.guestConfirmContinue":"confirmSession.confirmContinue";return r.a.createElement(l.default,{show:this.state.isOpen,preset:"FULL",handleClose:this.close,a11yTitle:h("confirmSession.confirmHeader"),zIndex:1051},r.a.createElement("div",null,r.a.createElement("div",{className:"fullScreenDialog"},r.a.createElement("span",{className:"icon icon-large icon-attention-large","aria-hidden":"true"}),r.a.createElement("h2",{className:"x-large"},h("confirmSession.confirmHeader"))),r.a.createElement("div",{className:"fullScreenDialog"},r.a.createElement("p",{className:"fullBodyText"},h(e)),r.a.createElement("p",null,r.a.createElement("button",{onClick:this.extendSession,className:"btn extendSession"},h(s))))))}}n()(d,"defaultProps",{onConfirmOpen:()=>{},confirmTime:84e4,expireTime:9e5,extendURL:"/myaccount/extendSession"}),s.default=d}}]);
//# sourceMappingURL=sessionTimer.esm.js.map