(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{1250:function(e,t,n){var a=n(218);e.exports=function(e){return(null==e?0:e.length)?a(e,1/0):[]}},1251:function(e,t,n){var a=n(344);e.exports=function(e){return e&&e.length?a(e):[]}},1305:function(e,t,n){"use strict";n.r(t);var a=n(125),r=n(861),i=n(41),s=n(886),o=n(884),c=n(2),l=n.n(c),d=n(4),p=n.n(d),u=n(11),h=n.n(u),b=n(33),g=n.n(b),m=n(1250),O=n.n(m),f=n(1251),y=n.n(f),v=(n(6),n(0)),_=n.n(v),j=n(40),C=n(19),E=n(209),k=n.n(E),x=n(52),F=n(21),A=n(13),B=n(927),w=n(176),I=n(897),S=n(61),N=n(14),T=n.n(N),P=n(208),L=n(29),D=n(60);var W=A.a.create({fundingOptionWrapper:{padding:"0 3px",overflow:"hidden"},radioButton:{":before":{border:"1px solid ".concat("#9DA3A6")},marginBottom:-1},disabledLabel:{cursor:"not-allowed"},radioButtonText:{display:"inline-block",width:290,margin:"0 0 10px 60px"},radioButtonTextRTL:{display:"inline-block",width:290,margin:"0 60px 10px 0px"},radioButtonSubText:{display:"block",fontSize:11},fundingOptionLogo:{position:Object(D.a)()?"relative":"absolute",top:"0",margin:Object(D.a)()?0:"1px 10px 0 0"},feeLine:{margin:"0 0 10px 105px"},preferredCheckboxWrapper:{paddingLeft:60,margin:"15px 0 0 0",clear:"both"},preferredCheckbox:{":before":{border:"1px solid ".concat("#9DA3A6")}},firstTimeInfoWrapper:{margin:"15px 0 0"},preferredInfoLink:{display:"block",margin:"-12px 0 0 43px",cursor:"pointer"},fundingOptionContentWrapper:{float:"left"},preferredBadge:{marginLeft:103,padding:"1px 8px",background:"#eaf7e9",display:"inline-block"},preferredBadgeText:{fontSize:11,margin:0},lineSeparator:l()({border:"none"},!Object(D.a)()&&{borderTop:"1px dotted ".concat("#CBD2D6"),color:"#fff",height:1,width:"100%"}),greyedOut:{opacity:".3"},forceDisplayBlock:{display:"block"},preventIncorrectLabelWrap:{display:"inline-block",width:"calc(100% - 45px)"},preventIncorrectLabelWrapWithLogo:{display:"inline-block",width:"calc(100% - 104px)"},checkboxOutline:{":before":{outlineWidth:"0px"}},choiceCardArt:{position:Object(D.a)()?"relative":"absolute",top:"0",borderRadius:3,margin:Object(D.a)()?"0 5px":"0 0 0 5px",maxWidth:40,boxShadow:"0px 1px 5px rgba(78, 70, 70, 0.47)"},fundingSecondaryText:{margin:"-8px 0px 3px 0px",float:"right",lineHeight:1},ppcreditSpecialOfferText:{marginRight:"2px",color:"#6c7378",[L.m]:{lineHeight:1.6}},offerEligibilityText:{color:P.gb,fontSize:14},disallowedReasonText:{margin:"0 0 0 8.5em",padding:"0.25em ",fontWeight:"bold",fontSize:"0.8em"},feeWaived:{color:P.Y}}),R=n(67),M=n(8),U=n(16),G=n(951),H=n(923),z=n(24),q=n.n(z),V=n(9);let Y=Object(V.a)("transfer/fundingSource");const K=C.h.div({},e=>{let{disabled:t=!1}=e;return{opacity:t?"0.3":"1","& label":{cursor:t?"not-allowed":"pointer",display:"block"}}}),J=C.h.div({display:"flex",alignItems:"flex-start"}),Q=Object(j.css)({color:P.Rb,position:"absolute",right:0,top:0}),X=C.h.div({"& a":{color:P.Q,fontFamily:"PayPalSansBig-Medium, Helvetica Neue, Arial, sans-serif"}}),Z=C.h.div({marginTop:"0.8rem","& label":{marginLeft:"1rem"}},e=>{let{shouldDisable:t=!1}=e;return{opacity:t?"0.3":"1","& label":{cursor:t?"not-allowed":"pointer"}}});class $ extends _.a.Component{constructor(){super(...arguments),p()(this,"renderCheaperOptionWarning",()=>_.a.createElement("div",{className:"vx_alert vx_alert-help ".concat(Object(A.b)(W.firstTimeInfoWrapper))},_.a.createElement("p",{className:"vx_alert-text"},Y("alert.cheaperAvailable")))),p()(this,"renderFeeLine",()=>{let{displayAmounts:{fee:e}}=this.props.fundingOption;return Object(D.a)()?_.a.createElement(i.e,{"data-nemo":"choice-FI-Fee-".concat(this.props.index)},Y("fee",{feeAmount:e})):_.a.createElement("p",{"data-nemo":"choice-FI-Fee-".concat(this.props.index),className:Object(A.b)(W.feeLine)},Y("fee",{feeAmount:e}))}),p()(this,"showFeeWaived",()=>Object(D.a)()?_.a.createElement(i.d,{strong:!0,"data-nemo":"choice-FI-Fee-Waived-".concat(this.props.index),style:{color:P.Y}},Y("feeWaived")):_.a.createElement("p",{"data-nemo":"choice-FI-Fee-Waived-".concat(this.props.index),className:"txtBold ".concat(Object(A.b)(W.feeLine,W.feeWaived))},Y("feeWaived"))),p()(this,"renderUnclaimedBalanceSubText",()=>Object(D.a)()?_.a.createElement(i.e,null,Object(R.y)()):_.a.createElement("span",{className:"vx_text-6_lighter ".concat(Object(A.b)(W.radioButtonSubText))},Object(R.y)())),p()(this,"renderPreferredBadge",()=>Object(D.a)()?_.a.createElement(o.b,{type:"feature",style:{marginTop:"0.5rem"}},Y("badge.preferred")):_.a.createElement("div",{className:Object(A.b)(W.preferredBadge)},_.a.createElement("p",{className:"vx_text-6_lighter ".concat(Object(A.b)(W.preferredBadgeText))},Y("preferred")))),p()(this,"renderAccountType",()=>{const{fundingOption:e}=this.props;if(!this.props.isCardArtEnabled||Object(R.B)(e))return null;const t=Object(R.u)(e),n=Object(R.d)(t),a=q()("vx_text-body_secondary",Object(A.b)(W.fundingSecondaryText,W.preventIncorrectLabelWrapWithLogo));return Object(D.a)()?_.a.createElement(i.e,null,n):_.a.createElement("p",{className:a},n)}),p()(this,"renderPPCreditSpecialOfferInfo",()=>{const{fundingOption:e}=this.props,t=Object(R.u)(e),n=Object(R.p)(t),a=t.ppcreditPromoFinancingOffer===U.j.ELIGIBLE||t.ppcreditPromoFinancingOffer===U.j.INELIGIBLE,r=q()("vx_text-body_secondary",Object(A.b)(W.fundingSecondaryText,W.preventIncorrectLabelWrapWithLogo,W.ppcreditSpecialOfferText,a&&W.offerEligibilityText));return n&&(Object(D.a)()?_.a.createElement(i.e,T()({as:X},n)):_.a.createElement("p",{className:r},_.a.createElement("span",n)))}),p()(this,"renderPreferredCheckbox",()=>{const{fundingOption:e,setPreferredId:t,handlePreferredCheckboxChange:n,togglePreferredLegalScrollOverpanel:a}=this.props,{id:o}=Object(R.u)(e),c=t&&t!==o;return Object(D.a)()?_.a.createElement(Z,{shouldDisable:c,tabIndex:"0",role:"button"},_.a.createElement(s.a,{disabled:c,onChange:()=>n(o),id:"selection-instrument-preferred-checkbox","data-nemo":"choice-select-checkbox",label:_.a.createElement("div",{style:{margin:"0 0.5rem"}},_.a.createElement(i.d,null,Y("checkbox.setPreferred")),_.a.createElement(r.a,{size:"sm",onClick:()=>{const e=this.props.getAnalyticsObject();Object(M.trackLinkWithData)("learnmore","main:p2p:choice:fioption","main:p2p:choice:fioption::node",e,"link"),a()}},Y("link.learnMore")))})):_.a.createElement("div",{role:"button",className:"vx_checkbox ".concat(Object(A.b)(W.preferredCheckboxWrapper,c&&W.greyedOut)),tabIndex:"0"},_.a.createElement("input",{disabled:c,onChange:()=>n(o),type:"checkbox",id:"selection-instrument-preferred-checkbox"}),_.a.createElement("label",{className:Object(A.b)(Object(A.c)(W.checkboxOutline),Object(A.c)(W.preferredCheckbox),Object(A.c)(W.forceDisplayBlock),c&&W.disabledLabel),htmlFor:"selection-instrument-preferred-checkbox","data-nemo":"choice-select-checkbox"},_.a.createElement("span",{className:Object(A.b)(W.preventIncorrectLabelWrap)},Y("checkbox.setPreferred"))),_.a.createElement("button",{onClick:()=>{const e=this.props.getAnalyticsObject();Object(M.trackLinkWithData)("learnmore","main:p2p:choice:fioption","main:p2p:choice:fioption::node",e,"link"),a()},type:"button",className:"vx_text-6_lighter vx_btn-link ".concat(Object(A.b)(Object(A.c)(W.preferredInfoLink)))},Y("link.learnMore")))}),p()(this,"shouldRenderWarningIcon",(e,t)=>{const{isPurchase:n,isSelected:a}=e,{cashAdvanceFeeApplies:r}=t;return!a&&(!n&&r)})}render(){const{fundingOption:e,fundingOption:{id:t,feePaidByReceiver:n,isFirstFeeFree:a=!1},isSelected:r,disabled:s,handleSelect:o,isPurchase:c,cashAdvanceWarningContent:l=""}=this.props,d=!n,p=Object(R.u)(e),{isPreferred:u,thumbnail_logo_url:h,cashAdvanceFeeApplies:b,generic_issuer_name:g}=p,m=r&&!u&&this.props.showPreferredCheckbox&&!Object(R.D)(e);let O="";O=Object(R.D)(e)?Object(R.x)(p):Object(R.B)(e)?Object(R.g)(e,this.props.isCFPBEnabledCountry,this.props.userAccountType):Object(R.e)(p,this.props.isCFPBEnabledCountry,this.props.userAccountType,this.props.isCardArtEnabled);const f=this.props.isCardArtEnabled&&h?Object(A.c)(W.choiceCardArt):Object(A.c)(W.fundingOptionLogo),y=q()(Object(A.b)(f)),v=this.props.isRTL?W.radioButtonTextRTL:W.radioButtonText;return _.a.createElement("li",{style:{position:"relative"}},Object(D.a)()?_.a.createElement(K,{disabled:s},_.a.createElement(I.a,{id:t,name:"fundingOption","data-nemo":"choice-FI-selector-".concat(this.props.index),tabIndex:r?0:-1,onChange:()=>o(e),value:t,checked:r,disabled:s,"aria-checked":r,htmlFor:t,label:_.a.createElement(_.a.Fragment,null,_.a.createElement(J,null,_.a.createElement("img",{alt:"",className:y,src:Object(R.i)(p,this.props.isCFPBEnabledCountry,this.props.userAccountType,this.props.isCardArtEnabled),width:50}),_.a.createElement("div",{style:{margin:"0 1rem"}},_.a.createElement(i.d,{"data-nemo":"choice-FI-Name-".concat(this.props.index)},O,Object(R.D)(e)&&this.renderUnclaimedBalanceSubText()),this.renderPPCreditSpecialOfferInfo(),this.renderAccountType(),a?this.showFeeWaived():d&&this.renderFeeLine(),u&&this.renderPreferredBadge())),c&&m&&this.renderPreferredCheckbox(),!c&&r&&b&&_.a.createElement(G.a,{stylesOverride:{marginTop:"12px"},messageOverride:Object(H.a)(l,g),handleOnClick:this.props.warningLabelOnClick}),this.shouldRenderWarningIcon(this.props,p)&&_.a.createElement(S.th,{size:"sm",className:Q.toString()}))})):_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:Object(A.b)(Object(A.c)(W.fundingOptionWrapper),s&&W.greyedOut)},_.a.createElement("div",{className:"vx_radio ".concat(Object(A.c)(Object(A.b)(W.radioButtonWrapper)))},_.a.createElement("input",{id:t,name:"fundingOption","data-nemo":"choice-FI-selector-".concat(this.props.index),type:"radio",tabIndex:r?0:-1,onChange:()=>o(e),value:t,checked:r,disabled:s,"aria-checked":r}),_.a.createElement("label",{htmlFor:t,className:Object(A.b)(Object(A.c)(W.radioButton),Object(A.c)(W.forceDisplayBlock),s&&Object(A.c)(W.disabledLabel))},_.a.createElement("img",{alt:"",className:y,src:Object(R.i)(p,this.props.isCFPBEnabledCountry,this.props.userAccountType,this.props.isCardArtEnabled),width:50}),_.a.createElement("p",{className:Object(A.b)(Object(A.c)(v),Object(A.c)(W.preventIncorrectLabelWrapWithLogo)),"data-nemo":"choice-FI-Name-".concat(this.props.index)},O,Object(R.D)(e)&&this.renderUnclaimedBalanceSubText()))),this.renderPPCreditSpecialOfferInfo(),this.renderAccountType(),a?this.showFeeWaived():d&&this.renderFeeLine(),u&&this.renderPreferredBadge(),c&&m&&this.renderPreferredCheckbox(),!c&&r&&b&&_.a.createElement(G.a,{stylesOverride:{margin:"auto auto auto 2.75rem",marginTop:"".concat(u?"1rem":"inherit"),paddingRight:"1rem"},messageOverride:Object(H.a)(l,g),handleOnClick:this.props.warningLabelOnClick})),this.shouldRenderWarningIcon(this.props,p)&&_.a.createElement("span",{style:{position:"absolute",color:"orange",top:"28px",right:"0"},className:"ppvx_icon ppvx_icon--size_xs ppvx_icon-warning-alt"})),_.a.createElement("hr",{className:Object(A.b)(Object(A.c)(W.lineSeparator))}))}}var ee=$;class te extends _.a.Component{render(){const{index:e,fundingOption:t,isCFPBEnabledCountry:n,userAccountType:a,isCardArtEnabled:r}=this.props,i=Object(R.e)(t,n,a,r),s=this.props.isRTL?W.radioButtonTextRTL:W.radioButtonText,o=Object(A.c)(W.fundingOptionLogo);return _.a.createElement("li",null,_.a.createElement("div",{className:Object(A.b)(Object(A.c)(W.fundingOptionWrapper),W.greyedOut)},_.a.createElement("div",{className:"vx_radio ".concat(Object(A.c)(Object(A.b)(W.radioButtonWrapper)))},_.a.createElement("input",{id:e,name:"fundingOption",type:"radio",value:e,disabled:!0}),_.a.createElement("label",{htmlFor:e,className:Object(A.b)(Object(A.c)(W.radioButton),Object(A.c)(W.forceDisplayBlock),Object(A.c)(W.disabledLabel))},_.a.createElement("img",{alt:"",className:Object(A.b)(o),"data-testid":"disallowed-card-art",src:Object(R.i)(t,n,a,r),width:50}),_.a.createElement("p",{className:Object(A.b)(Object(A.c)(s),Object(A.c)(W.preventIncorrectLabelWrapWithLogo)),"data-nemo":"disallowed-choice-FI-Name-".concat(e)},i)))),_.a.createElement("hr",{className:Object(A.b)(Object(A.c)(W.lineSeparator))}))}}let ne=Object(V.a)("transfer/preferredLegalScroll");const ae=A.a.create({wrapper:{padding:"0 20px"},cancelButton:{margin:"40px auto 0",display:"block",width:200}});class re extends _.a.Component{render(){return _.a.createElement("div",{className:Object(A.b)(ae.wrapper)},_.a.createElement("h2",null,ne("header")),_.a.createElement("h5",null,ne("subHeader")),_.a.createElement("h4",null,ne("willLi.header")),_.a.createElement("ul",null,_.a.createElement("li",null,ne("willLi.shopOnline")),_.a.createElement("li",null,ne("willLi.goodsAndServices"))),_.a.createElement("h4",null,ne("wontLi.header")),_.a.createElement("ul",null,_.a.createElement("li",null,ne("wontLi.shopStore")),this.props.isPSAEnabled?null:_.a.createElement("li",null,ne("wontLi.friendsAndFamily")),_.a.createElement("li",null,ne("wontLi.preapproved"))),_.a.createElement("p",null,ne("main",{userAgreementLinkUrl:_.a.createElement("a",{href:this.props.userAgreementLinkUrl,target:"_blank"},ne("legal.userAgreement"))})),_.a.createElement("button",{className:"".concat(Object(A.b)(ae.cancelButton)," vx_btn"),onClick:this.props.handleCloseButton},ne("button.close")))}}var ie=re,se=n(860);function oe(e){return Object.values(U.b).includes(e.action)}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{contingencies:t}=e,n=t&&t.find(oe);return n||{}}var le=n(57),de=n(26),pe=n(15),ue=n(44),he=n(55),be=n(65),ge=n(45),me=n(903),Oe=n(195),fe=n(1),ye=n(88),ve=n(336),_e=n(68),je=n(1053),Ce=n(862);const Ee=A.a.create({bankContainer:{paddingLeft:"0"},bankInfo:{margin:"0 0 0 20px"},bankInfoMobile:{margin:"0 0 0 35px"}});var ke=e=>{const{bank:t,isMobile:n}=e;return _.a.createElement(Ce.b,{className:Object(A.b)(Ee.bankContainer)},_.a.createElement(Ce.c,null,_.a.createElement(Ce.a,{xs:1},_.a.createElement("img",{alt:"",className:null,src:t.src,width:50})),_.a.createElement(Ce.a,{xs:11},_.a.createElement(i.g,{size:"md",regular:!0,className:Object(A.b)(n?Ee.bankInfoMobile:Ee.bankInfo)},t.title),_.a.createElement(i.g,{size:"sm",regular:!0,className:Object(A.b)(n?Ee.bankInfoMobile:Ee.bankInfo)},t.accountType))))},xe=n(48),Fe=n.n(xe);const Ae="main:p2p:send:bank_realtime_balance_user_consent",Be={pageImpression:{pageGroup:Ae,pageName:"".concat(Ae,":"),event_name:"bank_realtime_balance_user_consent_screen_shown",event_type:"im"},agreeAndLogin:{pageGroup:Ae,pageName:"".concat(Ae,":"),link:"agree and log in",event_name:"bank_realtime_balance_user_consent_agree_pressed",event_type:"cl"},payAnotherWay:{pageGroup:Ae,pageName:"".concat(Ae,":"),link:"pay another way",event_name:"bank_realtime_balance_user_consent_deny_pressed",event_type:"cl"}};function we(e){const t="openBankingReConsent"===e?"Y":"N",{event_name:n,event_type:a,pageGroup:r,pageName:i}=Be.pageImpression;Object(M.trackImpression)(r,i,{rtb_consent:t}),Object(M.trackImpression)(r,i,{event_name:n,event_type:a,product:"p2p",has_realtime_balance_user_consent:t}),Object(be.a)({event_name:n,event_type:a,has_realtime_balance_user_consent:t})}function Ie(e){const{event_name:t,event_type:n,pageGroup:a,pageName:r,link:i}=Be[e];Object(M.trackLinkWithData)(i,a,r,{event_name:t,event_type:n,product:"p2p"},"link"),Object(M.trackLinkWithData)(i,a,r,{},"link"),Object(be.a)({event_name:t,event_type:n,link:i})}function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=l()({event_type:"ac",e:"ac"},e),{pageGroup:n,pageName:a}=t,r=Fe()(t,["pageGroup","pageName"]);Object(M.trackActivity)(n,a,r),Object(be.a)(r)}let Ne=Object(V.a)("transfer/inc/openBanking");class Te extends v.Component{constructor(){super(...arguments),p()(this,"styles",A.a.create({obHeader:{textAlign:"center",marginBottom:"2.5rem"},obInfo:{margin:this.props.isMobile?"1.625rem 0":"2rem 0"},privacyLink:{fontSize:"0.8125rem",lineHeight:"1.125rem"},obAgreeBtn:{display:"block",margin:"1rem auto",width:this.props.isMobile?"100%":"50%"},payAnotherWay:{":hover":{cursor:"pointer"}}})),p()(this,"handleClose",()=>{Ie("payAnotherWay"),this.props.dispatch(Object(ue.y)({show:!1}))}),p()(this,"handleContinue",()=>{Ie("agreeAndLogin"),this.props.handleNext()}),p()(this,"getAggregatorName",()=>{switch(this.props.country){case"DE":return Ne("openBanking.aggregatorName.figo");case"GB":return Ne("openBanking.aggregatorName.tink");default:return Ne("openBanking.aggregatorName.yodlee")}}),p()(this,"renderDisclosureStatement",()=>{const{country:e}=this.props,t=this.getAggregatorName(),n=_.a.createElement(r.a,{href:"/".concat(e,"/webapps/mpp/ua/privacy-full"),target:"_blank",className:Object(A.b)(this.styles.privacyLink)},Ne("openBanking.privacyStatement"));return"DE"===e?_.a.createElement(_.a.Fragment,null,_.a.createElement(i.g,{size:"sm",className:Object(A.b)(this.styles.obInfo)},Ne.html("openBanking.informationDE")),_.a.createElement(i.g,{size:"sm",className:Object(A.b)(this.styles.obInfo)},Ne("openBanking.privacyStatementDE",{privacyStatementLink:n}))):"GB"===e?_.a.createElement(_.a.Fragment,null,_.a.createElement(i.g,{size:"sm",className:Object(A.b)(this.styles.obInfo)},Ne.html("openBanking.informationGB")),_.a.createElement(i.g,{size:"sm",className:Object(A.b)(this.styles.obInfo)},Ne("openBanking.privacyStatementGB",{privacyStatementLink:n}))):_.a.createElement(i.g,{size:"sm",className:Object(A.b)(this.styles.obInfo)},Ne("openBanking.information",{privacyStatementLink:n,aggregatorName:t}))})}componentDidMount(){const{selectedFundingOption:e}=this.props;ce(e).action===U.b.INVALID_CREDENTIALS?we("openBankingReConsent"):we("openBankingObtainConsent")}render(){const{selectedFundingOption:e,isCFPBEnabledCountry:t,userAccountType:n,isCardArtEnabled:s,country:o}=this.props,c=Object(R.c)(e,t,n,s);let l=Ne("openBanking.header");return"DE"===o&&(l=Ne("openBanking.headerDE")),_.a.createElement(Ce.b,null,_.a.createElement(Ce.c,null,_.a.createElement(Ce.a,{sm:12},_.a.createElement(i.g,{size:"xl2",regular:!0,className:Object(A.b)(this.styles.obHeader)},l))),_.a.createElement(Ce.c,null,_.a.createElement(Ce.a,{sm:12},_.a.createElement(ke,{bank:c,isMobile:this.props.isMobile}))),_.a.createElement(Ce.c,null,_.a.createElement(Ce.a,{sm:12},this.renderDisclosureStatement())),_.a.createElement(Ce.c,null,_.a.createElement(Ce.a,{sm:12,style:{textAlign:"center"}},_.a.createElement(a.a,{onClick:this.handleContinue,className:Object(A.b)(this.styles.obAgreeBtn),"data-nemo":"agree-and-login"},Ne("openBanking.agreeAndLogin")))),_.a.createElement(Ce.c,null,_.a.createElement(Ce.a,{sm:12,style:{textAlign:"center"}},_.a.createElement(r.a,{onClick:this.handleClose,className:Object(A.b)(this.styles.payAnotherWay)},Ne("openBanking.payAnotherWay")))))}}var Pe=Object(x.b)((e,t)=>{let{server:n,transaction:a}=e;return{isMobile:n.isMobile,selectedFundingOption:t.selectedFundingOption||a.selectedFundingOption,isCFPBEnabledCountry:n.isCFPBEnabledCountry,userAccountType:n.userAccountType,isCardArtEnabled:n.features&&n.features.isCardArtEnabled,country:n.country}})(Te);let Le=Object(V.a)("transfer/inc/openBanking");var De=Object(x.b)(e=>{let{overpanels:t}=e;return{showOpenBankingOverpanel:t.showOpenBankingOverpanel}},e=>({handleClose:()=>{e(Object(ue.y)({show:!1}))}}))((function(e){let{showOpenBankingOverpanel:t,handleNext:n,handleClose:a,selectedFundingOption:r}=e;return _.a.createElement(se.default,{show:t,handleClose:()=>a(),a11yTitle:Le("openBanking.header")},_.a.createElement(k.a,{title:"Paypal: ".concat(Le("openBanking.header"))},_.a.createElement(Pe,{handleNext:n,selectedFundingOption:r})))})),We=n(166),Re=n(333),Me=n(1056),Ue=n(1014),Ge=n(12),He=n(148),ze=n(880),qe=n(113);n.d(t,"FundingOptionSelector",(function(){return $e}));let Ve=Object(V.a)("transfer/fundingOptionsSelector");const Ye=C.h.h2({margin:"0px auto 2rem"}),Ke=C.h.button({background:"none",border:"none",padding:0,cursor:"pointer",outline:"inherit",float:"right"}),Je=C.h.button({background:"none",border:"none",padding:0,cursor:"pointer",outline:"inherit",float:"left"}),Qe=C.h.div({display:"flex",justifyContent:"center",margin:"20px auto 0"}),Xe=C.h.div({padding:"0 3px","& label":{marginBottom:0}},e=>{let{isDisabled:t=!1}=e;return{"& label":{opacity:t?.3:1}}}),Ze=C.h.div({display:"flex",justifyContent:"center",margin:"24px 0"});class $e extends _.a.Component{constructor(){var e;super(...arguments),e=this,p()(this,"state",{showOnlyThreeFundingOptions:!0,showPreferredLegalScroll:!1,balanceToggleIsChecked:!1,selectedFundingOption:{},setPreferredId:""}),p()(this,"buildBalanceToggleMap",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=n.length?n:e.props.fundingOptions;return Object(R.j)(a).reduce((e,n)=>(e[n.id]=t.includes(n.id),e),{})})),p()(this,"getListFromBalanceToggleMap",e=>Object.keys(e).filter(t=>e[t])),p()(this,"buildSortedFundingOptions",e=>{let t=[];const n=e.filter(e=>Object(R.B)(e)||1===e.funding_sources.length);return n.forEach(n=>{if(Object(R.B)(n))return t.push(n);const a=n.funding_sources[0].id,r=e.filter(e=>{let{funding_sources:t}=e;return t.some(e=>e.id===a)});t=t.concat(r)}),e.forEach(e=>{if(Object(R.B)(e))return;const{id:a}=Object(R.t)(e);n.filter(e=>!Object(R.B)(e)).map(e=>e.funding_sources[0].id).includes(a)||t.push(e)}),t}),p()(this,"shouldShowBalanceToggle",()=>!!Object(R.j)(this.props.fundingOptions).length),p()(this,"buildPayRequestPreviewRoute",(e,t)=>"/payRequest/".concat(e,"/").concat(t)),p()(this,"buildSendBuyPreviewRoute",e=>{const t=e?"buy":"send";return this.unified?"/homepage/".concat(t,"/preview"):"/".concat(t,"/preview")}),p()(this,"shouldDisableBalanceToggle",e=>{const{sortedFundingOptions:t,selectedFundingOption:n,balanceToggleMap:a}=this.state,{funding_sources:r=[]}=n,i=r.map(e=>e.id),s=this.getListFromBalanceToggleMap(a),o=y()([...i,...s,e.id]);if(Object(R.B)(n))return!0;return!t.filter(e=>!Object(R.B)(e)).some(e=>{let{funding_sources:t=[]}=e;return o.every(e=>t.some(t=>{let{id:n=""}=t;return n===e}))})}),p()(this,"togglePreferredLegalScrollOverpanel",()=>{this.setState({showPreferredLegalScroll:!this.state.showPreferredLegalScroll})}),p()(this,"resolveRTBContingencies",(function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;const{successfullyAddedFundingInstrumentIds:a,fundingOptions:r,dispatch:i}=e.props,{selectedFundingOption:s}=e.state,o=!!s.id;Object(be.a)(l()({},ge.a,e.analyticsStrings,e.getAnalyticsObject(),{event_name:"p2p_fi_selector_resolve_contingency_called",event_type:"ac"}));const c=o?s:Object(R.o)(r,a),d=ce(c).action;d===U.b.REFRESH||t&&(d===U.b.INVALID_CREDENTIALS||d===U.b.CONSENT)?i(he.q(d,e.handleNextButton,c.id,n,t=>{Se(l()({},e.analyticsStrings,e.getAnalyticsObject(),t?{event_name:"p2p_fi_contingency_resolved",status:t}:{event_name:"p2p_fi_contingency_called"}))})):d!==U.b.CONSENT&&d!==U.b.INVALID_CREDENTIALS||i(ue.y({show:!0}))})),p()(this,"handleAddCard",e=>{const t=this.getAnalyticsObject(),{pageGroup:n,pageName:a}=this.analyticsStrings;Object(M.trackLinkWithData)(e,n,a,t,"link"),Object(be.a)(ge.b.p2p_fi_add_pressed());const r=Object(_e.isIframe)()?window.top:window,i=l()({flowType:Object(de.a)(),amount:this.props.amount,currencyCode:this.props.currencyCode,payerId:this.props.payerId,recipient:this.props.recipient,displayName:this.props.displayName,thumbnailUrl:this.props.thumbnailUrl,networkId:this.props.networkId,obFlow:fe.A.ADD_BANK,unilateralName:this.props.unilateralName,unilateralCountryCode:this.props.unilateralCountryCode,mayCashAdvanceFeesApply:this.props.mayCashAdvanceFeesApply,isPurchase:this.props.isPurchase,mgmTrafficSource:Object(He.a)(),flowIntent:this.props.flowIntent,env:this.props.env,note:this.props.note,isFirstFeeFreeEligible:this.props.isFirstFeeFreeEligible,token:this.props.token},Object(qe.a)()),s=Object(ve.a)(i);Object(Re.a)()?Object(F.e)("/myaccount/transfer/flow/fi/new",i).then(e=>{const{redirectURL:t={}}=e;r.location.assign(t)}).catch(e=>this.props.dispatch(pe.showError(e))):r.location.assign(s)}),p()(this,"handleNextButton",e=>{let t=this.getAnalyticsObject();const{selectedFundingOption:{id:n},setPreferredId:a,selectedFundingOption:r}=this.state,{requestId:i,requestLegId:s,isPurchase:o,pStudioContent:c,recipientAccountType:d,recipientCountry:p,fromCurrencyCode:u,currencyCode:b,noteLength:g,hasBalance:m}=this.props,O=Object(We.a)()&&r.hasRTBContingency,f=!!Object.keys(r).length&&r.funding_sources.map(e=>e.id)||"nodefault";Object(be.a)(ge.b.p2p_fi_next_pressed(l()({},Object(R.m)(r),{fi_id:n,fi_selected:n,receiver_country:p,payment_type:o?"purchase":"personal",receiver_currency:b,note_character_length:g,balance_toggle:m?"y":"n",sender_currency:u,receiver_account_type:d,default_fi:Array.isArray(f)?f[0]:f})));const{funding_sources:y}=this.state.selectedFundingOption,v=y.some(e=>!0===e.cashAdvanceFeeApplies),_=h()(c,"p2p_cash_advance_fees_disclosure_touchpoint.noContent204",!1);if("cashadvancefee-override-pglk"===e)t.pglk="main:p2p:unified:cashadvancedisclaimer|continue";else if(!this.props.isPurchase&&v&&!_)return void this.props.dispatch(ue.n({show:!0,selectedFundingOption:this.state.selectedFundingOption,type:"ACTIONS"}));if(O)return void this.resolveRTBContingencies();if(this.props.dispatch(pe.changeSelectedFundingOption(n,t)),a&&this.props.dispatch(he.u(a)),this.props.isRenderedInOverpanel)return this.props.dispatch(ue.x({show:!1})),void(this.props.showCashAdvanceFeesOverpanel&&setTimeout(()=>{this.props.dispatch(ue.n({show:!1,selectedFundingOption:this.state.selectedFundingOption,type:"ACTIONS"}))},500));const j=i?this.buildPayRequestPreviewRoute(i,s):this.buildSendBuyPreviewRoute(o);Object(le.b)(j)}),p()(this,"getAnalyticsObject",()=>{const{selectedFundingOption:e={},setPreferredId:t}=this.state,{fundingOptions:n,isPurchase:a,successfullyAddedFundingInstrumentIds:r,fundingOptionIdFromSession:i,isOpenBankingReconsentFlow:s,isOpenBankingAbandonment:o,openBankingError:c}=this.props,l=!!Object.keys(e).length,d=(()=>{let n={};return l&&(n=e.funding_sources.find(e=>t===e.id||e.isPreferred)),n})();let p=d||Object(R.s)(n)||{id:""};const u=l&&e.funding_sources.map(e=>e.id),h=this.buildSortedFundingOptions(n),b=Object(R.v)(h,[]),m=l&&e.funding_sources.some(e=>!0===e.cashAdvanceFeeApplies),f=u?u.toString():"nodefault",y=a?"g&s":"f&f",v=p.id||"notset",_=d?"Y":"N",j=O()(b.map(e=>e.funding_sources.map(e=>e.id))).toString()||"",C=Object(R.u)(e)||{},E=Object(R.n)(C),k=Object(ye.c)(e),x=!g()(k),F=x?k.three_ds_reference_id:"";let A=ce(e).action;return A===U.b.INVALID_CREDENTIALS&&(A=U.b.REFRESH),{fltp:y,dfl_fmxid:f,pref_fmxid:v,is_pref:_,ofr_fmxid:j,flfr:"choice",message_shown:m?"y":"n",is_3ds_eligible:x,"3ds_ref_id":F,sel_fmx_tp:E,chosen_fi_id:C.id,contingency_return:A||"none",chosen_fo_id:e.id,fundingOptionIdFromSession:i,hasRTBContingency:e.hasRTBContingency,isOpenBankingReconsentFlow:s,isOpenBankingAbandonment:o,isOpenBankingTreatment:Object(We.a)(),successfullyAddedFundingInstrumentIds:r,openBankingError:c,raw_contingency_return:ce(e).action}}),p()(this,"handleBackButton",()=>{if(Object(be.a)(ge.b.p2p_fi_back_pressed()),this.props.isRenderedInOverpanel)return this.props.dispatch(ue.x({show:!1}));this.props.dispatch(he.a()),Object(le.a)()}),p()(this,"handleFundingOptionChange",e=>{const{setPreferredId:t,balanceToggleMap:n,sortedFundingOptions:a}=this.state,{funding_sources:r}=e,i=!Object(R.A)(e,a),s=!r.some(e=>e.id===t),o=r.some(e=>!0===e.cashAdvanceFeeApplies),{pageGroup:c,pageName:l}=this.analyticsStrings;Object(be.a)(ge.b.p2p_fi_selection_pressed({fi_selection_switched:"y",fi_warning_type:o?"cash_advance":""})),this.setState({selectedFundingOption:e,balanceToggleMap:i?this.buildBalanceToggleMap():n,setPreferredId:s?"":t},()=>{const e=this.getAnalyticsObject();Object(M.trackLinkWithData)("changeFI",c,l,e,"link")})}),p()(this,"handlePreferredCheckboxChange",e=>{if(Oe.a())return void this.props.dispatch(Oe.b());const t=this.state.setPreferredId===e;this.setState({setPreferredId:t?"":e})}),p()(this,"handleBalanceToggle",e=>{const{sortedFundingOptions:t,selectedFundingOption:n,balanceToggleMap:a}=this.state,r=l()({},a,{[e]:!a[e]}),i=this.getListFromBalanceToggleMap(r),s=Object(R.v)(t,i);this.setState({balanceToggleMap:r,selectedFundingOption:Object(R.l)(n,s)})}),p()(this,"handleShowMore",e=>{e.preventDefault(),this.setState({showOnlyThreeFundingOptions:!1})}),p()(this,"handleShowCashAdvanceFeeOverpanel",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"inlineMoreInfo";event.preventDefault(),Object(be.a)(ge.b.p2p_fi_selection_warning_pressed({fi_warning_type:"cash_advance"})),Object(me.a)(t),e.props.dispatch(ue.n({show:!0,type:"ABOUT",selectedFundingOption:e.state.selectedFundingOption}))})),p()(this,"handleOpenBankingAgreeButton",()=>{const{selectedFundingOption:e}=this.state,t=Object(R.u)(e),n=Object(R.h)(t.id);this.props.dispatch(he.n(l()({flowType:Object(de.a)(),amount:this.props.amount,currencyCode:this.props.currencyCode,payerId:this.props.payerId,recipient:this.props.recipient,fundingSourceId:n,fundingOptionId:e.id,fundingOptionsData:l()({},this.props.fundingOptionsData,{selectedFundingOptionId:e.id}),obFlow:fe.A.CONSENT_CONTINGENCY,unilateralName:this.props.unilateralName,unilateralCountryCode:this.props.unilateralCountryCode,displayName:this.props.displayName,thumbnailUrl:this.props.thumbnailUrl,networkId:this.props.networkId,mgmTrafficSource:Object(He.a)(),isPurchase:this.props.isPurchase,flowIntent:this.props.flowIntent,env:this.props.env,token:this.props.token},Object(qe.a)())))}),p()(this,"renderSpacer",e=>_.a.createElement("hr",{className:Object(A.b)(B.a.dynamicSpacer),style:{height:e}})),p()(this,"renderPreferredBadge",()=>_.a.createElement("div",{className:Object(A.b)(B.a.preferredBadge)},_.a.createElement("p",{className:"vx_text-6_lighter ".concat(Object(A.b)(B.a.preferredBadgeText,B.a.preventIncorrectLabelWrap))},Ve("preferred")))),p()(this,"renderBalanceToggle",e=>{const{isPreferred:t,id:n}=e,{balanceToggleMap:a}=this.state,r=a[n],i=this.shouldDisableBalanceToggle(e);return Object(D.a)()?_.a.createElement(Xe,{isDisabled:i,key:n},_.a.createElement(s.a,{id:"H-toggle-".concat(n),onChange:()=>this.handleBalanceToggle(n),checked:r,disabled:i,label:Object(R.b)(e,this.props.isCFPBEnabledCountry,this.props.userAccountType),helperText:t&&_.a.createElement(o.b,{style:{marginTop:"0.25rem"},type:"feature"},Ve("badge.preferred"))})):_.a.createElement("div",{key:n,className:"vx_checkbox ".concat(Object(A.b)(B.a.balanceToggleWrapper,i&&B.a.greyedOut))},_.a.createElement("input",{onChange:()=>this.handleBalanceToggle(n),type:"checkbox",id:"H-toggle-".concat(n),checked:r,disabled:i}),_.a.createElement("label",{className:Object(A.b)(B.a.balanceCheckbox,B.a.forceDisplayBlock),htmlFor:"H-toggle-".concat(n)},_.a.createElement("span",{className:Object(A.b)(B.a.preventIncorrectLabelWrap)},Object(R.b)(e,this.props.isCFPBEnabledCountry,this.props.userAccountType))),t&&this.renderPreferredBadge())}),p()(this,"renderFundingOptionAlert",()=>_.a.createElement("div",{className:"vx_alert vx_alert-help ".concat(Object(A.b)(B.a.fundingOptionAlertWrapper))},_.a.createElement("p",{className:"vx_alert-text"},Ve("alert.preferredDisallowed")))),p()(this,"renderUnavailableFIWarning",()=>{const{isAddBankFlow:e,accountType:t,fundingOptions:n}=this.props,a=n.length>0?"warning.OB.paymentMethodDisabled":"warning.OB.paymentMethodDisabledNoFIs",r=e?"warning.OB.paymentMethodUnavailable":a;return _.a.createElement(Ue.a,{accountType:t,contentKey:r,style:{marginBottom:"20px"}})}),p()(this,"renderInformationalFees",()=>_.a.createElement("div",{className:"".concat(Object(A.b)(B.a.inlineWarningContainer))},_.a.createElement("p",{className:"ppvx_text--sm ".concat(Object(A.b)(B.a.inlineWarningBlurb))},Ve("warning.inline.text")),_.a.createElement("button",{className:"vx_btn-link ppvx_text--sm ppvx_text--medium ".concat(Object(A.b)(B.a.inlineWarningInfoLink)),onClick:()=>this.handleShowCashAdvanceFeeOverpanel("moreInfo")},Ve("warning.inline.link")))),p()(this,"getFilteredDisallowedSources",()=>{const{disallowedSources:e}=this.props;return e.filter(e=>e.instrument_type!==U.e.HOLDING&&"CIP_REQUIRED"!==e.reason)})}componentWillMount(){const{unified:e,currencyCode:t,fromCurrencyCode:n,noteLength:a,recipientCountry:r,recipientAccountType:i,isPurchase:s,hasBalance:o,isCrowdFundingCampaign:c=!1,overpanelIsOpen:d,fundingOptionIdFromSession:p,isOpenBankingReconsentFlow:u,isRenderedInOverpanel:h,isOpenBankingAbandonment:b,openBankingError:m}=this.props;this.unified=e;const O=this.unified?"unified:":"";this.analyticsStrings={pageGroup:"main:p2p:".concat(O,"choice:fioption"),pageName:"main:p2p:".concat(O,"choice:fioption::node")};let{selectedFundingOption:f,fundingOptions:y}=this.props;const v=!!f.id,_=y[0]||{};f=v?f:_;const j=Object(R.q)(f).map(e=>e.id),C=this.buildSortedFundingOptions(y),E=y&&y.filter(e=>e.funding_sources&&e.funding_sources[0]&&!0===e.funding_sources[0].cashAdvanceFeeApplies).length;let k=Object(R.v)(C,[]).map(e=>e.funding_sources.map(e=>e.id));k=[].concat(...k);const x=Object(R.u)(f)||{},F=Object(R.n)(x),A=Array.isArray(y)&&y.map(e=>{const t=Object(R.u)(e);return Object(R.n)(t)}),B=Object(ye.c)(f),w=!g()(B),I=w?B.three_ds_reference_id:"";let S=ce(f).action;S===U.b.INVALID_CREDENTIALS&&(S=U.b.REFRESH);const N=l()({fltp:s?"g&s":"f&f",dfl_fmxid:!!Object.keys(f).length&&f.funding_sources.map(e=>e.id)||"nodefault",is_pref:Object.keys(f).length&&f.funding_sources.some(e=>e.isPreferred)?"Y":"N",ofr_fmxid:k.toString()||"",is_3ds_eligible:w,"3ds_ref_id":I,av_fmx_tp:A,sel_fmx_tp:F,eligible_fi_cnt:E,chosen_fi_id:x.id,contingency_return:S||"none"},c&&{flow:fe.o.CROWD_FUNDING}),{pageGroup:T,pageName:P}=this.analyticsStrings;!d&&h||(Object(M.trackImpression)(T,P,N),Object(be.a)(ge.b.p2p_fi_screen_shown({balance_available:o?"y":"n",receiver_country:r,payment_type:s?"purchase":"personal",receiver_currency:t,fi_eligible_count:E,note_character_length:a,sender_currency:n,receiver_account_type:i,default_fi:Array.isArray(N.dfl_fmxid)?N.dfl_fmxid[0]:N.dfl_fmxid}))),this.setState({sortedFundingOptions:C,selectedFundingOption:f,balanceToggleMap:this.buildBalanceToggleMap(j)},()=>{Object(be.a)(l()({},ge.a,this.analyticsStrings,this.getAnalyticsObject(),{event_name:"p2p_fi_selector_set_state_callback_called",event_type:"ac"})),f.hasRTBContingency&&f.id===p&&u&&!b&&this.resolveRTBContingencies(u,m)})}componentWillReceiveProps(e){const t=Object.assign({},this.props),{successfullyAddedFundingInstrumentIds:n,fundingOptions:a}=e;if(n&&n.includes(",")&&a.length){this.props.dispatch(pe.changeSelectedFundingOption(a[0].id,{}));const e=Object(R.q)(a[0]).map(e=>e.id);this.setState({selectedFundingOption:a[0],balanceToggleMap:this.buildBalanceToggleMap(e,a)})}const r=!t.hasAddedCard&&e.hasAddedCard;if(r&&this.setState({showOnlyThreeFundingOptions:!r}),t.fundingOptions!==e.fundingOptions){const t=Object(R.q)(e.selectedFundingOption).map(e=>e.id);this.setState({sortedFundingOptions:this.buildSortedFundingOptions(e.fundingOptions),selectedFundingOption:e.selectedFundingOption,balanceToggleMap:this.buildBalanceToggleMap(t),setPreferredId:""})}}componentWillUnmount(){this.props.dispatch(he.r(""));const{unavailableFI:e}=this.props;e&&this.props.dispatch(he.x(!1))}render(){const{isRTL:e,isPurchase:t,fundingOptions:n,userAccountType:s,isCardArtEnabled:o,isCFPBEnabledCountry:c,showPreferredCheckbox:d,isPreferredSourceDisallowed:p,pStudioContent:u,unavailableFI:b,disallowedSources:g}=this.props,m=0===n.length,O=g.length>0;if(m&&!O)return null;const f=p,{selectedFundingOption:y,showOnlyThreeFundingOptions:v,showPreferredLegalScroll:C,setPreferredId:E,balanceToggleMap:x,sortedFundingOptions:F}=this.state,I=!!y.funding_sources,S=Object(A.b)(this.props.isRenderedInOverpanel&&B.a.overpanelWrapper,!this.props.isRenderedInOverpanel&&B.a.pageWrapper,this.props.shouldHideWrapperBorder&&B.a.noBorder),N=Object.keys(x).filter(e=>x[e]),T=Object(R.v)(F,N),{funding_sources:P=[]}=y,W=P.some(e=>!0===e.cashAdvanceFeeApplies),M=h()(u,"p2p_cash_advance_fees_inline_warning_touchpoint.content.json",{}),G=v?3:void 0,H=!I,z=Object(ve.c)(Object(de.a)()),q=this.getFilteredDisallowedSources();let{shouldHideAddCard:V}=this.props;return V||(V=U.g.includes(this.props.moneyPageOverPanel)),_.a.createElement(k.a,{title:Ve("a11y.title")},_.a.createElement("div",{className:Object(A.b)(B.a.fundingOptionsWrapper)},_.a.createElement("div",{className:S},_.a.createElement("form",null,_.a.createElement("fieldset",null,_.a.createElement("legend",{className:Object(A.b)(B.a.headerWrapper)},Object(D.a)()?_.a.createElement(i.f,{size:"sm",as:Ye},Ve("howToPay")):_.a.createElement("h2",{className:Object(A.b)(B.a.header)},Ve("howToPay"))),b&&this.renderUnavailableFIWarning(),f&&this.renderFundingOptionAlert(),f&&this.shouldShowBalanceToggle()&&this.renderSpacer(20),Object(R.j)(F).map(this.renderBalanceToggle),(f||this.shouldShowBalanceToggle())&&(Object(D.a)()?this.renderSpacer(16):this.renderSpacer(50)),_.a.createElement("ul",{className:Object(A.b)(B.a.fundingOptionsListWrapper)},_.a.createElement("hr",{className:Object(A.b)(B.a.lineSeparator,B.a.topLineSeparator)}),_.a.createElement(w.a,{interval:130,beforeClassName:Object(A.b)(B.a.staggerBefore),afterClassName:Object(A.b)(B.a.staggerAfter)},T.slice(0,G).map((n,a)=>_.a.createElement(ee,{getAnalyticsObject:this.getAnalyticsObject,key:n.id,index:a,isRTL:e,fundingOption:n,isSelected:n.id===y.id,isPurchase:t,setPreferredId:E,handlePreferredCheckboxChange:this.handlePreferredCheckboxChange,handleSelect:this.handleFundingOptionChange,togglePreferredLegalScrollOverpanel:this.togglePreferredLegalScrollOverpanel,isCFPBEnabledCountry:c,userAccountType:s,isCardArtEnabled:o,showPreferredCheckbox:d,cashAdvanceWarningContent:M,warningLabelOnClick:this.handleShowCashAdvanceFeeOverpanel})),q.map((t,n)=>_.a.createElement(te,{key:"disallowed-"+n,index:n,isRTL:e,fundingOption:t,isCFPBEnabledCountry:c,userAccountType:s,isCardArtEnabled:o})))),T.length>3&&v&&(Object(D.a)()?_.a.createElement(r.a,{as:Ke,onClick:this.handleShowMore},Ve("button.showMore")):_.a.createElement("button",{onClick:this.handleShowMore,className:"".concat(Object(A.b)(B.a.showMoreCards)," vx_btn-link")},Ve("button.showMore"))),!V&&(Object(D.a)()?_.a.createElement(r.a,{as:Je,onClick:()=>{this.handleAddCard(z)},type:"button","data-nemo":"add-new-card"},Ve("button.".concat(z))):_.a.createElement("button",{onClick:()=>{this.handleAddCard(z)},type:"button","data-nemo":"add-new-card",className:"".concat(Object(A.b)(B.a.newCardLink)," vx_btn-link")},Ve("button.".concat(z))))))),!this.props.isPurchase&&W&&this.renderInformationalFees(),Object(D.a)()?_.a.createElement(Ze,null,_.a.createElement(a.a,{className:Object(j.css)(l()({},H&&{color:"#cbd2d6",background:"#f5f6f8",boxShadow:"none",border:"1px solid #cbd2d6",textDecoration:"none",cursor:"not-allowed",outline:"none",transform:"none",":after":{content:"none"}},{[L.k]:{width:"100%",margin:"0 16px"}})).toString(),"data-nemo":"choice-next-button",onClick:this.handleNextButton,disabled:H},Ve("button.next"))):_.a.createElement("button",{"data-nemo":"choice-next-button",onClick:this.handleNextButton,className:"".concat(Object(A.b)(B.a.nextButton)," vx_btn"),disabled:H},Ve("button.next")),!this.props.shouldHideBackButton&&(Object(D.a)()?_.a.createElement(Qe,null,_.a.createElement(ze.a,{data:"unit-test-back-button",onClick:this.handleBackButton},Ve("button.back"))):_.a.createElement("button",{data:"unit-test-back-button",onClick:this.handleBackButton,className:"".concat(Object(A.b)(B.a.cancelButton)," vx_btn-link")},Ve("button.back"))),_.a.createElement(se.default,{show:C,handleClose:this.togglePreferredLegalScrollOverpanel},_.a.createElement(ie,{userAgreementLinkUrl:this.props.userAgreementLinkUrl,handleCloseButton:this.togglePreferredLegalScrollOverpanel,isPSAEnabled:this.props.isPSAEnabled})),_.a.createElement(je.a,{cipStatus:this.props.cipStatus}),Object(We.a)()&&_.a.createElement(De,{selectedFundingOption:this.state.selectedFundingOption,handleNext:this.handleOpenBankingAgreeButton}),_.a.createElement(Me.a,{handleNext:this.handleNextButton})))}}p()($e,"defaultProps",{isRenderedInOverpanel:!1,ddcCalls:[],payerId:"",displayName:"",thumbnailUrl:""});t.default=Object(x.b)(e=>{let{transaction:t,server:n,overpanels:a,card:r,recipient:i,amount:s,external:o,unilateral:c,crossBorder:l,note:d}=e;return{hasAddedCard:r.addedCards.length>0,requestId:n.requestId,requestLegId:n.requestLegId,shouldHideWrapperBorder:"ppme"===n.env||"pools"===n.env,shouldHideBackButton:!!("ppme"===n.env||"pools"===n.env||n.requestId&&n.requestLegId),shouldHideAddCard:"pisp"===n.env&&!o.addCardSupported,successfullyAddedFundingInstrumentIds:t.successfullyAddedFundingInstrumentIds,selectedFundingOption:t.selectedFundingOption,fundingOptions:t.fundingOptions,fundingOptionsData:{fundingOptions:t.fundingOptions,disallowedSources:t.disallowedSources,complianceInfo:t.complianceInfo,isPaypalAccount:i.isPaypalAccount,additionalDisclosureActions:t.additionalDisclosureActions,xbActualRecipientCountry:l.xbActualRecipientCountry,xbChosenCountry:l.xbChosenCountry,xbCountryMismatch:l.xbCountryMismatch,isCrowdFundingCampaign:t.isCrowdFundingCampaign,riskHoldOverpanelVariant:t.riskHoldOverpanelVariant,isPreferredSourceDisallowed:t.isPreferredSourceDisallowed,conversionType:t.conversionType,showFISelector:t.showFISelector},disallowedSources:t.disallowedSources,isPurchase:t.isPurchase,isCrowdFundingCampaign:t.isCrowdFundingCampaign,currencySeparator:t.currencySeparator,isPreferredSourceDisallowed:t.isPreferredSourceDisallowed,mayCashAdvanceFeesApply:"USD"===l.fromCurrencyCode&&"USD"===l.toCurrencyCode&&!t.isPurchase,userAgreementLinkUrl:n.userAgreementLinkUrl,overpanelIsOpen:a.fundingOptionsOverpanel,token:i.token,payerId:i.payerId,recipient:i.recipient,displayName:i.displayName,thumbnailUrl:i.thumbnailUrl,networkId:i.networkId,moneyPageOverPanel:i.moneyPageOverPanel,recipientCountry:i.country,recipientAccountType:i.recipientAccountType,amount:s.amount,note:d.note,currencyCode:s.currencyCode,fromCurrencyCode:s.fromCurrencyCode,cipStatus:o.cipStatus,isRTL:"rtl"===n.directionality,isCFPBEnabledCountry:n.isCFPBEnabledCountry,userAccountType:n.userAccountType,isCardArtEnabled:n.features&&n.features.isCardArtEnabled,showPreferredCheckbox:n.groupFeatures.showPreferredCheckbox,unilateralName:c.name,unilateralCountryCode:c.countryCode,unavailableFI:t.unavailableFI,accountType:t.accountType,pStudioContent:n.pStudioContent,showCashAdvanceFeesOverpanel:a.showCashAdvanceFeesOverpanel,showGenericAboutCashAdvanceFeesOverpanel:a.showGenericAboutCashAdvanceFeesOverpanel,cashAdvanceFeesOverpanelContentType:a.cashAdvanceFeesOverpanelContentType,noteLength:d.note.length,hasBalance:h()(n,"userConfig.features.balance"),isOpenBankingReconsentFlow:Object(We.a)()&&Ge.a.obFlow===fe.A.CONSENT_CONTINGENCY,fundingOptionIdFromSession:h()(Ge.a,"fundingOptionsData.selectedFundingOptionId",""),isAddBankFlow:Ge.a.obFlow===fe.A.ADD_BANK,isOpenBankingAbandonment:!(t.openBankingError||t.successfullyAddedFundingInstrumentIds),openBankingError:t.openBankingError,flowIntent:n.flowIntent,env:n.env,isPSAEnabled:n.isPSAEnabled,isFirstFeeFreeEligible:t.isFirstFeeFreeEligible}})($e)}}]);
//# sourceMappingURL=funding-option-selector.esm.js.map